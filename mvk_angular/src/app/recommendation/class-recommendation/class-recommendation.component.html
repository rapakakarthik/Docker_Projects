<div class="main-container">
  <ng-container *ngIf="!loader">
    <!-- Main categories list -->
    <div class="tab-banner-chips-normal">

      <div class="mobiletabwrapper linetabstyle">
        <ul>
          <li *ngFor="let category of mainCategoryData; let i=index"> 
             <button (click)="setActiveTab(i)" [class.selectedtab]="i === activeTab">{{ category.class_name }}</button>
            </li>
            </ul></div>

      <mat-tab-group
        disableRipple
        (selectedIndexChange)="getSubClasses2($event)"
        #tabGroup class="onlydesktop"
      >
        <mat-tab *ngFor="let category of mainCategoryData">
          <ng-template mat-tab-label>
            <div class="chipcls">{{ category.class_name }}</div>
          </ng-template>
        </mat-tab>
      </mat-tab-group> 
      <h4 *ngIf="false && subCategoryInfo"> {{ subCategoryInfo.description }} </h4>
    </div>

    <!-- Sub Categories List based on category ID -->
    <section *ngIf="subCategoryData.length > 0" class="tab-banner-chips">
      <div class="mobiletabwrapper btntabstyle marTB20" >
        <ul>
          <li *ngFor="let category of subCategoryData; let i=index"> 
             <button (click)="setSubActiveTab(i)" [class.selectedtab]="i === subActiveTab">{{ category.category_name }}</button>
            </li>
            </ul></div>
      <mat-tab-group
        [(selectedIndex)]="subRoomIndex"
        disableRipple
        (selectedTabChange)="onTabClick($event)" #subTabGroup class="onlydesktop"
      >
        <!-- <mat-tab *ngIf="subCategoryData.length > 1" [label]="'All'" [id]="0"></mat-tab> -->
        <mat-tab *ngFor="let cat of subCategoryData">
          <ng-template mat-tab-label>
            <div class="chipcls">{{ cat.category_name }}</div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </section>

    <section *ngIf="filters.length > 0" class="tab-banner-chips">

      <div class="mobiletabwrapper btntabstyle" >
        <ul>
          <li *ngFor="let filter of filters; let i=index"> 
             <button (click)="setSubActiveTab(i)" [class.selectedtab]="i === subActiveTab1">{{ filter.name }}</button>
            </li>
            </ul></div>

      <mat-tab-group disableRipple (selectedTabChange)="onFilterChange($event)"  #subTabGroup1 class="onlydesktop">
        <mat-tab *ngFor="let filter of filters">
          <ng-template mat-tab-label>
            <div class="chipcls">{{ filter.name }}</div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </section>
  </ng-container>

  <!-- Category Loader -->
  <ng-container *ngIf="loader">
    <ul class="chiplist toplist">
      <li *ngFor="let i of [0, 1]"><span class="smart smartsmall"></span></li>
    </ul>
    <ul class="chiplist bottomlist">
      <li *ngFor="let i of [0, 1, 2, 3, 4, 5]">
        <span class="smart smartsmall"></span>
      </li>
    </ul>
  </ng-container>

  <ng-container *ngIf="!dataloader">
    <section class="flex-wrap marT30">
      <section class="cardsWarp custom-flexs-list6">
        <ng-container *ngFor="let item of collection | paginate: { itemsPerPage: 10, currentPage: p, totalItems: totalCount }">
        <!-- <ng-container *ngFor="let data of showData"> -->
          <section class="card1">
            <app-product-card
              [styleClass]="'smallcard'"
              [item]="item"
              [description]="true"
              [price]="true"
              [qty]="true"
              [linkTo]="'recomendations'"
            ></app-product-card>
          </section>
        </ng-container>
        <section *ngIf="collection.length > 0" class="paginator">
          <pagination-controls [maxSize]="5" class="my-pagination" (pageChange)="onPageChange2($event)"></pagination-controls>    
        </section>
        <section class="nodata" *ngIf="nodata">
          No Products
        </section>
      </section>
    </section>
  </ng-container>

  <ng-container *ngIf="dataloader">
    <section class="flex-wrap marT30">
      <section class="cardsWarp custom-flexs-list6">
        <section class="card1" *ngFor="let i of [0, 1, 2, 3, 4, 5, 6, 7, 8]">
          <section class="smart imgsmart"></section>
          <section class="smart line2"></section>
          <section class="smart line3"></section>
        </section>
      </section>
    </section>
  </ng-container>
</div>
