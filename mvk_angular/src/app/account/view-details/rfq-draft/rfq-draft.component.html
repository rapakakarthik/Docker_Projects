<section class="inquires-table-section">

    <section *ngIf="true" class="inquiry-headersection">
      <!-- <section>
        <button (click)="openRFQForm('empty')" mat-raised-button class="signupBtn pad">
          Post an RFQ
        </button>
      </section> -->
      
      <form [formGroup]="form">
      <section>
        <mat-form-field appearance="outline" class="middlefiled selectmiddle">
          <mat-label>Sort By</mat-label>
          <mat-select formControlName="sortBy" (selectionChange)="getRfqDraftList()">
            <mat-option [value]="'Asc'">
              Ascending
            </mat-option>
            <mat-option [value]="'Desc'">
              Descending
            </mat-option>
          </mat-select>
        </mat-form-field>
        <!-- <mat-checkbox disabled class="marR20" color="primary">New Quotaion</mat-checkbox> -->
      </section>
      </form>
    </section>
  
    <table class="table table-bordered inquiry-table">
      <thead class="inquiry-table">
        <tr>
          <th class="heading-td" scope="col"></th>
          <th class="heading-td" scope="col">RFQ</th>
          <th class="heading-td" scope="col">Quotation </th>
          <th class="heading-td" scope="col">Approval </th>
          <th class="heading-td statuscol" scope="col">Status</th>
        </tr>
      </thead>
      <tbody class="inquiry-table-tbody">
        <tr *ngIf="noRfqFound">
          <td colspan="12" class="text-center py-5">
            <img src="/assets/images/cloud.png"/>
            <h3 class="nofound_title">No RFQ Drafts Found</h3>
          </td>
        </tr>
        <tr *ngFor="let rfq of rfqDratList">
          <!-- <td>
            <div class="fav_img">
              <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 213.15 194.93"><defs><style>.cls-1{fill:#696969;}.cls-2{fill:#ee1d26;}</style></defs><title>LIKE</title><path class="cls-1" d="M256,120.48c-.75,25.48-10.43,47-29.07,64.29-23.3,21.57-46.87,42.85-70.37,64.2-5.08,4.61-8.79,4.93-13.29.66-18.86-17.88-39.44-33.82-58.4-51.56-11.17-10.45-22.37-20.95-29.79-34.6-10.39-19.1-16-39.14-9.34-60.72,6.89-22.33,20.95-38,44.31-43.76,15.56-3.81,29.26,1.24,41.75,10.35,3.71,2.71,7,5.94,10.76,8.62,5.34,3.83,8.94,3.67,14.19-.22a40.82,40.82,0,0,0,4.1-3.42c28.43-27.63,67-17,84.65,11.28A66.36,66.36,0,0,1,256,120.48Zm-3.94-.24c-.78-15.38-5.5-27.19-13.62-37.67-12.8-16.49-33.36-23.93-52.1-18.86-9.42,2.55-17,8.19-24.08,14.65-9.34,8.48-15.89,8.41-25.42.26a114.12,114.12,0,0,0-9.39-7.49C116.94,64,105.52,60,92.6,62.47c-16.67,3.24-28.7,13-37.08,27.4-12.56,21.61-10.29,43.42-.36,65.22,7.05,15.49,18.59,27.46,31,38.61,17.86,16.09,36.15,31.69,54.05,47.73,10.1,9.06,8.36,9.6,18.91-.13,22.8-21,46.57-41,68.51-62.93A81.52,81.52,0,0,0,252.06,120.24Z" transform="translate(-42.85 -57.71)"/><path class="cls-2" d="M252.06,120.24a81.52,81.52,0,0,1-24.46,58.13c-21.94,21.93-45.71,41.91-68.51,62.93-10.55,9.73-8.81,9.19-18.91.13-17.9-16-36.19-31.64-54.05-47.73-12.38-11.15-23.92-23.12-31-38.61-9.93-21.8-12.2-43.61.36-65.22,8.38-14.4,20.41-24.16,37.08-27.4,12.92-2.5,24.34,1.48,34.85,8.66a114.12,114.12,0,0,1,9.39,7.49c9.53,8.15,16.08,8.22,25.42-.26,7.11-6.46,14.66-12.1,24.08-14.65,18.74-5.07,39.3,2.37,52.1,18.86C246.56,93.05,251.28,104.86,252.06,120.24Z" transform="translate(-42.85 -57.71)"/></svg>
            </div>
          </td> -->
          <td>
            <div (click)="addToFav(rfq.id, rfq.favourite)" class="fav_img">
              <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 213.15 194.93">
                <path d="M256,120.48c-.75,25.48-10.43,47-29.07,64.29-23.3,21.57-46.87,42.85-70.37,64.2-5.08,4.61-8.79,4.93-13.29.66-18.86-17.88-39.44-33.82-58.4-51.56-11.17-10.45-22.37-20.95-29.79-34.6-10.39-19.1-16-39.14-9.34-60.72,6.89-22.33,20.95-38,44.31-43.76,15.56-3.81,29.26,1.24,41.75,10.35,3.71,2.71,7,5.94,10.76,8.62,5.34,3.83,8.94,3.67,14.19-.22a40.82,40.82,0,0,0,4.1-3.42c28.43-27.63,67-17,84.65,11.28A66.36,66.36,0,0,1,256,120.48Zm-3.94-.24c-.78-15.38-5.5-27.19-13.62-37.67-12.8-16.49-33.36-23.93-52.1-18.86-9.42,2.55-17,8.19-24.08,14.65-9.34,8.48-15.89,8.41-25.42.26a114.12,114.12,0,0,0-9.39-7.49C116.94,64,105.52,60,92.6,62.47c-16.67,3.24-28.7,13-37.08,27.4-12.56,21.61-10.29,43.42-.36,65.22,7.05,15.49,18.59,27.46,31,38.61,17.86,16.09,36.15,31.69,54.05,47.73,10.1,9.06,8.36,9.6,18.91-.13,22.8-21,46.57-41,68.51-62.93A81.52,81.52,0,0,0,252.06,120.24Z" transform="translate(-42.85 -57.71)"/>
                <path [class]="rfq.favourite == 1 ? 'cls-1' : 'cls-2'" d="M252.06,120.24a81.52,81.52,0,0,1-24.46,58.13c-21.94,21.93-45.71,41.91-68.51,62.93-10.55,9.73-8.81,9.19-18.91.13-17.9-16-36.19-31.64-54.05-47.73-12.38-11.15-23.92-23.12-31-38.61-9.93-21.8-12.2-43.61.36-65.22,8.38-14.4,20.41-24.16,37.08-27.4,12.92-2.5,24.34,1.48,34.85,8.66a114.12,114.12,0,0,1,9.39,7.49c9.53,8.15,16.08,8.22,25.42-.26,7.11-6.46,14.66-12.1,24.08-14.65,18.74-5.07,39.3,2.37,52.1,18.86C246.56,93.05,251.28,104.86,252.06,120.24Z" transform="translate(-42.85 -57.71)"/>
              </svg>
            </div>
          </td>
          <td>
            <section class="table-data-first">
              <ul class="list-group">
                <li class="list-group-item">
                  <span class="time-date">
                    {{ rfq.created_at }}
                    <span> ID: {{ rfq.rfq_code }} </span>
                  </span>
                </li>
                <li class="list-group-item">
                  <p>
                    {{ rfq.product_name }}
                  </p>
                </li>
                <!-- <li class="list-group-item">
                    <span class="time-date">
                      {{ inquiryDetails.quantity }} Piece/Pieces
                    </span>
                  </li> -->
              </ul>
            </section>
          </td>
          <td>
            <section>
              <span class="quotation-text">
                {{ rfq.quote_count }} Quotes Recieved
                <!-- <a href=""> 5 New </a> -->
              </span>
            </section>
          </td>
          <td>
            <section>
                <button color="primary" (click)="approve(rfq.id)" mat-raised-button>Approve</button>
            </section>
          </td>
          <td class="statuscol">
            <section class="approcal-buttons">
              <ul class="list-group">
                <li class="list-group-item txt-center">
                  <span [ngStyle]="getSpanStyle(rfq.status).style" class="btn btn-outline-success">
                    <span style="color: black">{{ rfq.status }}</span>
                  </span>
                </li>
                <!-- <li class="list-group-item txt-center">
                  <button (click)="goTo(rfq.id)" class="btn btn-primary">View Quotes</button>
                </li> -->
                <li class="list-group-item txt-center">
                  <!-- / (click)="getRfqDetails(rfq.id)" -->
                  <button (click)="handleClick(rfq.id)" type="button" class="btn btn-outline-primary">
                    View this RFQ
                  </button>
                </li>
              </ul>
            </section>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
  
  <section class="inquiry-popup" *ngIf="showrfqDetails">
    <section class="inquiry-heading-popup">
      <h4>
        <mat-icon
          class="inquiry-close rfq-btn-inqury"
          (click)="toggleRfqProfile()"
          >close</mat-icon
        >
        RFQ Details
      </h4>
    </section>
  
    <app-rfqlist-details
      (rfqClosed)="rfqClosed()"
      [id]="rfqId"
    ></app-rfqlist-details>
  </section>
  
  <section *ngIf="serverDown">
    <app-server-down></app-server-down>
  </section>