<section class="notification">
    <div class="notif_top">
        <h1 class="main_title">Notification</h1>
        @if (unreadCount > 0) {
            <button (click)="markAllAsRead()" class="grey_stroked_btn">Mark all as read</button>
        }
    </div>
    <ul class="notif_list">
        <li class="list" [ngClass]="{'new_msg': notification.read_status == 0}" *ngFor="let notification of collection | paginate: { itemsPerPage: 10, currentPage: p, totalItems: totalCount }">
            <div class="notif_msg">
                <div>
                    <h2 class="title">{{ notification.title }}</h2>
                    <p class="para">{{ notification.message }}</p>
                    <p class="timing">{{ notification.created_at }}</p>
                </div>
            </div>
            <div>
                <button class="text_btn" (click)="openNotify(notification)">View This {{notification.type}}</button>
            </div>

            <!-- close list -->

            <button (click)="deleteNotification(notification.id)" class="close">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 35 35" fill="none">
                    <path d="M12.2499 24.2868L17.4999 19.0368L22.7499 24.2868L24.2866 22.75L19.0366 17.5L24.2866 12.25L22.7499 10.7133L17.4999 15.9633L12.2499 10.7133L10.7132 12.25L15.9632 17.5L10.7132 22.75L12.2499 24.2868ZM17.5025 31.3542C15.5862 31.3542 13.7851 30.9906 12.099 30.2634C10.4129 29.5361 8.94631 28.5492 7.69919 27.3026C6.45207 26.056 5.46466 24.59 4.73695 22.9046C4.00948 21.2193 3.64575 19.4186 3.64575 17.5026C3.64575 15.5863 4.00936 13.7852 4.73658 12.0991C5.46381 10.413 6.45073 8.94643 7.69737 7.69931C8.944 6.45219 10.41 5.46478 12.0953 4.73707C13.7807 4.00961 15.5814 3.64587 17.4974 3.64587C19.4136 3.64587 21.2148 4.00948 22.9009 4.73671C24.5869 5.46393 26.0535 6.45086 27.3006 7.69749C28.5478 8.94412 29.5352 10.4101 30.2629 12.0955C30.9903 13.7808 31.3541 15.5815 31.3541 17.4975C31.3541 19.4137 30.9905 21.2149 30.2632 22.901C29.536 24.587 28.5491 26.0536 27.3025 27.3008C26.0558 28.5479 24.5898 29.5353 22.9045 30.263C21.2192 30.9905 19.4185 31.3542 17.5025 31.3542ZM17.4999 29.1667C20.7569 29.1667 23.5155 28.0365 25.776 25.7761C28.0364 23.5157 29.1666 20.757 29.1666 17.5C29.1666 14.2431 28.0364 11.4844 25.776 9.224C23.5155 6.96358 20.7569 5.83337 17.4999 5.83337C14.243 5.83337 11.4843 6.96358 9.22388 9.224C6.96346 11.4844 5.83325 14.2431 5.83325 17.5C5.83325 20.757 6.96346 23.5157 9.22388 25.7761C11.4843 28.0365 14.243 29.1667 17.4999 29.1667Z" fill="#5D5E5E"/>
                </svg>
            </button>
        </li>
        @if (noNotificationFound) {
            <li class="no-notifications">
                <div class="msg">
                    <img class="w-50" src="/assets/images/no_notification.png"/>
                    <h2 class="title">You’ve Caught up with everything</h2>
                    <p>This is where you’ll see notifications about your MyVerkoper account</p>
                </div>
            </li>
        }
    </ul>
    <section *ngIf="totalCount > 10" class="paginator">
        <pagination-controls [maxSize]="5" (pageChange)="onPageChange($event)"></pagination-controls>
    </section>
</section>

<!-- <section class="inquires-table-section">
    <table class="table table-bordered inquiry-table">
        <thead class="inquiry-table">
            <tr>
                <th colspan="3" class="heading-td" scope="col">Notification Status</th>
                <th colspan="3" class="heading-td" scope="col">Message</th>
                <th colspan="3" class="heading-td statuscol" scope="col">Type</th>
            </tr>
        </thead>
        <tbody class="inquiry-table-tbody">
            <tr *ngIf="noNotificationFound">
                <td colspan="12" class="text-center py-5">
                    <img style="width: 125px;" src="/assets/images/nodatafound1.png" />
                    <h3 class="nofound_title">No <span>Notification</span> Found</h3>
                </td>
            </tr>
            <tr *ngFor="let notification of collection | paginate: { itemsPerPage: 10, currentPage: p, totalItems: totalCount }">
                <td colspan="3">
                    <section class="table-data-first">
                        <ul class="list-group">
                            <li class="list-group-item">
                                <span class="time-date">
                                    {{ notification.created_at }}
                                    <span> ID: {{ notification.rfq_code }} </span>
                                </span>
                            </li>
                            <li class="list-group-item">
                                <p class="notify-status">
                                    <span *ngIf="notification.read_status == 0"> <i class="fa fa-circle"></i></span>{{ notification.title }}
                                </p>
                            </li>
                            <li class="list-group-item">
                    <span class="time-date">
                      {{ inquiryDetails.quantity }} Piece/Pieces
                    </span>
                  </li>
                        </ul>
                    </section>
                </td>
                <td colspan="3">
                    <section>
                        <span class="quotation-text">
                            {{ notification.message }}
                            <a href=""> 5 New </a>
                        </span>
                    </section>
                </td>
                <td class="statuscol" colspan="3">
                    <section class="approcal-buttons">
                        <ul class="list-group">
                            <li class="list-group-item txt-center">
                                <span class="btn btn-outline-success">
                                    {{ notification.type }}
                                </span>
                            </li>
                            <li class="list-group-item txt-center">
                  <button (click)="goTo(rfq.id)" class="btn btn-primary">View Quotes</button>
                </li>
                            <li class="list-group-item txt-center">
                                <button (click)="openNotify(notification)" type="button" class="btn btn-outline-primary">
                                    View this {{notification.type}}
                                </button>
                            </li>
                        </ul>
                    </section>
                </td>
            </tr>
        </tbody>
    </table>
    <section *ngIf="totalCount > 10" class="paginator">
        <pagination-controls [maxSize]="5" (pageChange)="onPageChange($event)"></pagination-controls>
      </section>
</section> -->

<section *ngIf="serverDown">
    <app-server-down></app-server-down>
</section>