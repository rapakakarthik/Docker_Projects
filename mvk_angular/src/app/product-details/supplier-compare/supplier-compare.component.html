<section class="v3_breadcrumb">
    <div class="main-container">
      <ul class="list">
        <li>
          <a routerLink="/">Home</a>
        </li>
        @if(categoryHierarchy.length > 0) {
          @for (category of categoryHierarchy; track category.cat_id) {
          <li (click)="navToCat(category.cat_id, category.cat_name)" class="pointer cat_breadcrumb">
            {{category.cat_name}}
          </li>
          }
        }
        <!-- @if(this.companyDetails.company_name) {
          <li (click)="navToCompany()" (mouseover)="companyHovered = true" (mouseout)="companyHovered = false" [class.active]="companyHovered" class="pointer">
            {{this.companyDetails.company_name}}
          </li>
        } -->
        @if(productDetails) {
          <li class="active">{{productDetails.name}}</li>
        }
      </ul>
    </div>
</section>

<section *ngIf="productFound" class="main-container">
    <section class="product_details">
        <div class="product_img">
            <img [src]="productDetails?.image"/>
        </div>
        <div class="product_desc">
            <h1 class="smallTitle">{{productDetails?.name}}</h1>
            <div class="product_actions">
                <!-- Share Icon -->
                <span (click)="share()" class="pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none">
                        <path d="M18.7524 22.3962C18.0296 22.3962 17.4145 22.1429 16.907 21.6365C16.3996 21.1303 16.1458 20.5154 16.1458 19.792C16.1458 19.6535 16.1578 19.51 16.1818 19.3615C16.2059 19.2131 16.242 19.0734 16.2901 18.9425L8.22527 14.191C7.97006 14.4781 7.67353 14.7021 7.33569 14.8631C6.99784 15.024 6.63595 15.1045 6.25001 15.1045C5.52657 15.1045 4.91173 14.8515 4.40548 14.3456C3.89906 13.8397 3.64584 13.2254 3.64584 12.5027C3.64584 11.7799 3.89906 11.1648 4.40548 10.6574C4.91173 10.1499 5.52657 9.89616 6.25001 9.89616C6.63595 9.89616 6.99784 9.97663 7.33569 10.1376C7.67353 10.2985 7.97006 10.5225 8.22527 10.8097L16.2901 6.05814C16.242 5.92724 16.2059 5.78757 16.1818 5.63913C16.1578 5.49069 16.1458 5.3472 16.1458 5.20866C16.1458 4.48522 16.3988 3.87038 16.9047 3.36413C17.4106 2.8577 18.0249 2.60449 18.7477 2.60449C19.4704 2.60449 20.0855 2.85744 20.593 3.36335C21.1004 3.86925 21.3542 4.48357 21.3542 5.20631C21.3542 5.92906 21.101 6.54416 20.5945 7.05163C20.0883 7.55909 19.4734 7.81283 18.75 7.81283C18.3641 7.81283 18.0022 7.73236 17.6643 7.57142C17.3265 7.41048 17.03 7.18644 16.7748 6.89928L8.70991 11.6508C8.758 11.7817 8.79411 11.921 8.81824 12.0686C8.8422 12.216 8.85418 12.3585 8.85418 12.4962C8.85418 12.6338 8.8422 12.7778 8.81824 12.9279C8.79411 13.0783 8.758 13.2189 8.70991 13.3498L16.7748 18.1014C17.03 17.8142 17.3265 17.5902 17.6643 17.4292C18.0022 17.2683 18.3641 17.1878 18.75 17.1878C19.4734 17.1878 20.0883 17.4408 20.5945 17.9467C21.101 18.4526 21.3542 19.0669 21.3542 19.7896C21.3542 20.5124 21.1012 21.1275 20.5953 21.635C20.0894 22.1424 19.4751 22.3962 18.7524 22.3962ZM18.75 6.77116C19.1787 6.77116 19.5463 6.61795 19.8529 6.31152C20.1593 6.00493 20.3125 5.6373 20.3125 5.20866C20.3125 4.78001 20.1593 4.41239 19.8529 4.10579C19.5463 3.79937 19.1787 3.64616 18.75 3.64616C18.3214 3.64616 17.9537 3.79937 17.6471 4.10579C17.3407 4.41239 17.1875 4.78001 17.1875 5.20866C17.1875 5.6373 17.3407 6.00493 17.6471 6.31152C17.9537 6.61795 18.3214 6.77116 18.75 6.77116ZM6.25001 14.0628C6.67866 14.0628 7.04628 13.9096 7.35287 13.6032C7.6593 13.2966 7.81251 12.929 7.81251 12.5003C7.81251 12.0717 7.6593 11.7041 7.35287 11.3975C7.04628 11.091 6.67866 10.9378 6.25001 10.9378C5.82136 10.9378 5.45374 11.091 5.14715 11.3975C4.84072 11.7041 4.68751 12.0717 4.68751 12.5003C4.68751 12.929 4.84072 13.2966 5.14715 13.6032C5.45374 13.9096 5.82136 14.0628 6.25001 14.0628ZM18.75 21.3545C19.1787 21.3545 19.5463 21.2013 19.8529 20.8949C20.1593 20.5883 20.3125 20.2206 20.3125 19.792C20.3125 19.3633 20.1593 18.9957 19.8529 18.6891C19.5463 18.3827 19.1787 18.2295 18.75 18.2295C18.3214 18.2295 17.9537 18.3827 17.6471 18.6891C17.3407 18.9957 17.1875 19.3633 17.1875 19.792C17.1875 20.2206 17.3407 20.5883 17.6471 20.8949C17.9537 21.2013 18.3214 21.3545 18.75 21.3545Z" fill="#8A8A8A"/>
                    </svg>
                </span>
    
                <!-- Favourite Icon -->
                @if(!isFav) {
                    <span class="pointer" title="add to wishlist" (click)="addToFav()">
                      <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                        <path
                          d="M12.0518 19.3105L12.0517 19.3104C11.9214 19.2622 11.808 19.1897 11.7077 19.0893L11.6987 19.0804L11.6893 19.0718L10.4945 17.9929C10.4944 17.9927 10.4942 17.9926 10.4941 17.9924C8.65145 16.3184 7.02871 14.6934 5.62464 13.1176C4.26817 11.595 3.625 10.0551 3.625 8.48926C3.625 7.29102 4.02658 6.30765 4.82878 5.50561L4.82885 5.50554C5.6309 4.70333 6.61426 4.30176 7.8125 4.30176C8.48646 4.30176 9.20562 4.47181 9.97468 4.83086L9.9748 4.83091C10.6883 5.16381 11.3967 5.81128 12.0858 6.83028L12.5 7.44277L12.9142 6.83028C13.6033 5.81128 14.3117 5.1638 15.0252 4.83091L15.0253 4.83086C15.7944 4.47181 16.5135 4.30176 17.1875 4.30176C18.3857 4.30176 19.3691 4.70333 20.1712 5.50554L20.1712 5.5056C20.9734 6.30765 21.375 7.29102 21.375 8.48926C21.375 10.092 20.7053 11.6649 19.2918 13.2166C17.8278 14.8238 16.224 16.4177 14.4802 17.9982C14.4801 17.9983 14.48 17.9984 14.4799 17.9985L13.2908 19.0717L13.2813 19.0803L13.2722 19.0893C13.1747 19.1869 13.0603 19.2596 12.9233 19.3086C12.7684 19.3641 12.6214 19.3895 12.4799 19.3895C12.3387 19.3895 12.1968 19.3642 12.0518 19.3105Z"
                          fill="none" stroke="#017DB9" />
                      </svg>
                    </span>
                }
                @else {
                <span class="pointer" title="remove from wishlist" (click)="removeFromFav()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                    <path
                        d="M12.0518 19.3105L12.0517 19.3104C11.9214 19.2622 11.808 19.1897 11.7077 19.0893L11.6987 19.0804L11.6893 19.0718L10.4945 17.9929C10.4944 17.9927 10.4942 17.9926 10.4941 17.9924C8.65145 16.3184 7.02871 14.6934 5.62464 13.1176C4.26817 11.595 3.625 10.0551 3.625 8.48926C3.625 7.29102 4.02658 6.30765 4.82878 5.50561L4.82885 5.50554C5.6309 4.70333 6.61426 4.30176 7.8125 4.30176C8.48646 4.30176 9.20562 4.47181 9.97468 4.83086L9.9748 4.83091C10.6883 5.16381 11.3967 5.81128 12.0858 6.83028L12.5 7.44277L12.9142 6.83028C13.6033 5.81128 14.3117 5.1638 15.0252 4.83091L15.0253 4.83086C15.7944 4.47181 16.5135 4.30176 17.1875 4.30176C18.3857 4.30176 19.3691 4.70333 20.1712 5.50554L20.1712 5.5056C20.9734 6.30765 21.375 7.29102 21.375 8.48926C21.375 10.092 20.7053 11.6649 19.2918 13.2166C17.8278 14.8238 16.224 16.4177 14.4802 17.9982C14.4801 17.9983 14.48 17.9984 14.4799 17.9985L13.2908 19.0717L13.2813 19.0803L13.2722 19.0893C13.1747 19.1869 13.0603 19.2596 12.9233 19.3086C12.7684 19.3641 12.6214 19.3895 12.4799 19.3895C12.3387 19.3895 12.1968 19.3642 12.0518 19.3105Z"
                        fill="#D63333" stroke="#D63333" />
                    </svg>
                </span>
                }
            </div>
        </div>
    </section>

    <section class="compare_prices">
        <h1 class="smallTitle">Compare the sellers for prices</h1>
        <div class="price_table">
            <table>
                <thead>
                    <tr>
                        <th class="sold_by">Sold by</th>
                        <th class="min_order">Minimum order</th>
                        <th class="lead_time">Lead Time</th>
                        <th class="item_price">Item price</th>
                        <th class="actions"></th>
                    </tr>
                </thead>
                <tbody>
                    @for (supplier of otherSuppliers; track supplier.seller_id) {
                        <tr>
                          <td class="fw_500"> {{supplier.company_name}} </td>
                          <td class="text-center">{{supplier.minimum_quantity}}</td>
                          <td class="text-center">2 Days</td>
                          <td class="text-center fw_500">â‚¹{{supplier.product_price}} </td>
                          <td><button (click)="goToCompany(supplier.company_name, supplier.seller_id)" class="sec_btn">Contact Supplier</button></td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </section>

    <!-- You may also like -->
    <section *ngIf="productsYouMayAlsoLike && productsYouMayAlsoLike.length > 0" class="likesec">
        <h2 class="smallTitle">You May also like</h2>
        <app-multi-carousel [screenName]="'likedetails'" [catData]="productsYouMayAlsoLike"></app-multi-carousel>
    </section>
</section>