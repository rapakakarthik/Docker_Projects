<app-header [search]="false"></app-header>

@if (false) {
<!-- Search Input -->
<section class="serch-section">
  <form>
    <div class="form-group searchwrapper blog">
      <mat-icon (click)="onSearch()">search</mat-icon>
      <input [(ngModel)]="searchKeyword" (keyup.enter)="onSearch()" name="searchKeyword" type="text"
        class="form-control search-chat" placeholder="Search" />
    </div>
  </form>
</section>

<!-- <div *ngIf="categoriesList && categoriesList.length > 0" class="container blog-media padT50">
<div class="tab-banner-chips">
  <mat-tab-group (selectedTabChange)="onTabClick($event)">
    <ng-container *ngFor="let cat of categoriesList">
      <mat-tab>
        <ng-template mat-tab-label>
          <div class="chipcls">{{ cat.name }}</div>
        </ng-template>
      </mat-tab>
    </ng-container>
  </mat-tab-group>
</div>
</div> -->


<main class="container blog-media">

  <section *ngIf="storyList" class="blog-main-pg">
    <div class="blog-page-one" *ngFor="let story of storyList | paginate: { itemsPerPage: 7, currentPage: p, totalItems: totalCount }" >  
      
      <a [routerLink]="[story.url_slug]">
      <h1> {{story.story_title}} </h1>
      <p  class="heading-p">
        <!-- <span _ngcontent-jbp-c301=""> {{story.created_at.slice(0,10)}} </span> -->
         {{story.story_short_description}}
      </p>
      <img
        [src]="story.story_image"
      />
      </a>
    </div>
    <section *ngIf="totalCount > 7" class="paginator">
      <pagination-controls [maxSize]="5" class="my-pagination" (pageChange)="onPageChange2($event)"></pagination-controls>    
    </section>
  </section>
 
</main>
}

@else {
<!-- @if (!noDataFound) { -->
<section class="stories">
  <div class="main-container">
    <div class="row justify-content-center">
      <div class="col-sm-9">
        @if (isUserSignedIn) {
        <ul class="tabs">
          <li *ngFor="let tab of tabs;"
          (click)="selectTab(tab.id)" [class.active]="selectedTab === tab.id">{{ tab.name }}</li>
        </ul>
        }
        @if(!noDataFound) {
        <section>
          @for (story of storyList | paginate: { itemsPerPage: 7, currentPage: p, totalItems: totalCount }; track story.story_id) {
          <div class="stories_card sm_space">
            <div class="story_img">
              <a [routerLink]="[story.url_slug, story.story_id]">
                <img [src]="story.story_image"/>
              </a>
            </div>
            <div class="story_details">
              <div class="heading_row">
                <a [routerLink]="[story.url_slug, story.story_id]">
                <h1 class="title">{{story.story_title}}</h1>
                </a>
                <!-- @if (isUserSignedIn) { -->
                <ul class="actions">
                  <li (click)="bookmark(story.is_bookmarked, story.story_id)" class="pointer" [class]="story.is_bookmarked === 0 ? 'bookmark' : 'bookmarked'">
                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 15 21" fill="none">
                      <path d="M0 20.073V2.05272C0 1.48582 0.201875 1.01414 0.605625 0.637684C1.00937 0.261227 1.51525 0.072998 2.12325 0.072998H12.8768C13.4848 0.072998 13.9906 0.261227 14.3944 0.637684C14.7981 1.01414 15 1.48582 15 2.05272V20.073L7.5 17.308L0 20.073ZM1.2 18.4296L7.5 16.087L13.8 18.4296V2.05272C13.8 1.83733 13.7039 1.64001 13.5116 1.46076C13.3194 1.28151 13.1078 1.19188 12.8768 1.19188H2.12325C1.89225 1.19188 1.68063 1.28151 1.48838 1.46076C1.29613 1.64001 1.2 1.83733 1.2 2.05272V18.4296Z" fill="#5D5E5E"/>
                    </svg>
                    @if(story.is_bookmarked === 0) {
                      <span>Bookmark  </span>
                    } @else {
                      <span>Bookmarked</span>
                    }
                  </li>
                </ul>
                <!-- } -->
              </div>
              <p>Story by {{story.seller_account_name}}</p>
              @if (story.story_created_at.slice(0, 10)) {
              <p class="text_primary fw_500">{{story.story_created_at.slice(0, 10)}}</p>
              }
              <p class="story_desc">{{story.story_short_description}}</p>
            </div>
          </div>
          }
        </section>
        <section *ngIf="totalCount > 7" class="paginator">
          <pagination-controls [maxSize]="5" class="my-pagination" (pageChange)="onPageChange2($event)"></pagination-controls>    
        </section>
        }
        @else {
          <section class="text-center py-5">
            <img style="width: 200px;" src="/assets/images/no_blogs.png">
            <p>No Stories Found</p>
          </section>
        }
        
        <!-- <section *ngIf="selectedTab === 1">
          <div class="stories_card">
            <img src="/assets/images/dummy_stories.png"/>
            <div class="heading_row">
              <h1 class="title">Bookmarks</h1>
              <ul class="actions">
                <li class="like active">
                  <svg xmlns="http://www.w3.org/2000/svg" width="19" height="17" viewBox="0 0 21 19" fill="none">
                    <path d="M18.9506 6.5573C19.3882 6.5573 19.7795 6.72978 20.1245 7.07475C20.4694 7.41972 20.6419 7.81101 20.6419 8.24863V9.53716C20.6419 9.6347 20.6312 9.73931 20.6097 9.85098C20.5883 9.96248 20.5601 10.0659 20.5252 10.1611L17.6652 16.9406C17.5223 17.2612 17.2811 17.5301 16.9415 17.7475C16.6018 17.965 16.2489 18.0737 15.883 18.0737H5.38063V6.5573L11.2799 0.71064C11.4341 0.556216 11.6063 0.460509 11.7963 0.423517C11.9861 0.386699 12.1663 0.415228 12.3368 0.509103C12.5073 0.603154 12.6308 0.740129 12.7074 0.920029C12.7838 1.09975 12.7986 1.28829 12.7516 1.48564L11.6743 6.5573H18.9506ZM6.42757 7.00434V17.0267H15.8904C16.038 17.0267 16.189 16.9864 16.3434 16.9058C16.4979 16.8254 16.6153 16.6912 16.6957 16.5033L19.595 9.69813V8.24863C19.595 8.06071 19.5346 7.90628 19.4139 7.78536C19.2929 7.66461 19.1385 7.60424 18.9506 7.60424H10.3738L11.5859 1.88636L6.42757 7.00434ZM2.44134 18.0737C1.97614 18.0737 1.57796 17.9081 1.24677 17.5769C0.915591 17.2457 0.75 16.8475 0.75 16.3823V8.24863C0.75 7.78344 0.915591 7.38525 1.24677 7.05407C1.57796 6.72289 1.97614 6.5573 2.44134 6.5573H5.38063V7.60424H2.44134C2.25341 7.60424 2.09899 7.66461 1.97806 7.78536C1.85732 7.90628 1.79694 8.06071 1.79694 8.24863V16.3823C1.79694 16.5703 1.85732 16.7247 1.97806 16.8456C2.09899 16.9664 2.25341 17.0267 2.44134 17.0267H5.38063V18.0737H2.44134Z" fill="#5D5E5E"/>
                  </svg>
                  <span>3</span>
                </li>
                <li class="Bookmarks">
                  <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 15 21" fill="none">
                    <path d="M0 20.073V2.05272C0 1.48582 0.201875 1.01414 0.605625 0.637684C1.00937 0.261227 1.51525 0.072998 2.12325 0.072998H12.8768C13.4848 0.072998 13.9906 0.261227 14.3944 0.637684C14.7981 1.01414 15 1.48582 15 2.05272V20.073L7.5 17.308L0 20.073ZM1.2 18.4296L7.5 16.087L13.8 18.4296V2.05272C13.8 1.83733 13.7039 1.64001 13.5116 1.46076C13.3194 1.28151 13.1078 1.19188 12.8768 1.19188H2.12325C1.89225 1.19188 1.68063 1.28151 1.48838 1.46076C1.29613 1.64001 1.2 1.83733 1.2 2.05272V18.4296Z" fill="#5D5E5E"/>
                  </svg>
                </li>
                <li class="share">
                  <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 20 20" fill="none">
                    <path d="M16.3114 19.25C15.6267 19.25 15.044 19.0101 14.5632 18.5303C14.0825 18.0507 13.8421 17.4683 13.8421 16.7829C13.8421 16.6516 13.8535 16.5157 13.8762 16.3751C13.899 16.2345 13.9332 16.1021 13.9788 15.9781L6.33841 11.4766C6.09663 11.7487 5.81571 11.9609 5.49564 12.1134C5.17558 12.2659 4.83273 12.3421 4.46711 12.3421C3.78174 12.3421 3.19926 12.1025 2.71965 11.6232C2.23988 11.1439 2 10.5619 2 9.87722C2 9.19252 2.23988 8.60979 2.71965 8.12903C3.19926 7.64827 3.78174 7.4079 4.46711 7.4079C4.83273 7.4079 5.17558 7.48413 5.49564 7.6366C5.81571 7.78906 6.09663 8.00132 6.33841 8.27336L13.9788 3.77187C13.9332 3.64786 13.899 3.51554 13.8762 3.37492C13.8535 3.23429 13.8421 3.09836 13.8421 2.96711C13.8421 2.28174 14.0817 1.69926 14.561 1.21965C15.0403 0.739884 15.6223 0.5 16.307 0.5C16.9917 0.5 17.5744 0.739639 18.0552 1.21891C18.5359 1.69819 18.7763 2.28018 18.7763 2.96488C18.7763 3.64959 18.5364 4.23232 18.0567 4.71308C17.5771 5.19383 16.9946 5.43421 16.3092 5.43421C15.9436 5.43421 15.6007 5.35798 15.2807 5.20551C14.9606 5.05304 14.6797 4.84079 14.4379 4.56875L6.79753 9.07023C6.84309 9.19424 6.8773 9.32615 6.90017 9.46595C6.92286 9.60559 6.93421 9.74063 6.93421 9.87105C6.93421 10.0015 6.92286 10.1378 6.90017 10.2801C6.8773 10.4225 6.84309 10.5558 6.79753 10.6798L14.4379 15.1812C14.6797 14.9092 14.9606 14.697 15.2807 14.5445C15.6007 14.392 15.9436 14.3158 16.3092 14.3158C16.9946 14.3158 17.5771 14.5554 18.0567 15.0347C18.5364 15.514 18.7763 16.096 18.7763 16.7807C18.7763 17.4654 18.5367 18.0481 18.0574 18.5289C17.5781 19.0096 16.9961 19.25 16.3114 19.25ZM16.3092 4.44737C16.7153 4.44737 17.0636 4.30222 17.354 4.01192C17.6443 3.72146 17.7895 3.37319 17.7895 2.96711C17.7895 2.56102 17.6443 2.21275 17.354 1.92229C17.0636 1.63199 16.7153 1.48684 16.3092 1.48684C15.9031 1.48684 15.5549 1.63199 15.2644 1.92229C14.9741 2.21275 14.829 2.56102 14.829 2.96711C14.829 3.37319 14.9741 3.72146 15.2644 4.01192C15.5549 4.30222 15.9031 4.44737 16.3092 4.44737ZM4.46711 11.3553C4.87319 11.3553 5.22147 11.2101 5.51193 10.9198C5.80222 10.6294 5.94737 10.2811 5.94737 9.875C5.94737 9.46891 5.80222 9.12064 5.51193 8.83018C5.22147 8.53989 4.87319 8.39474 4.46711 8.39474C4.06102 8.39474 3.71275 8.53989 3.42229 8.83018C3.13199 9.12064 2.98684 9.46891 2.98684 9.875C2.98684 10.2811 3.13199 10.6294 3.42229 10.9198C3.71275 11.2101 4.06102 11.3553 4.46711 11.3553ZM16.3092 18.2632C16.7153 18.2632 17.0636 18.118 17.354 17.8277C17.6443 17.5373 17.7895 17.189 17.7895 16.7829C17.7895 16.3768 17.6443 16.0285 17.354 15.7381C17.0636 15.4478 16.7153 15.3026 16.3092 15.3026C15.9031 15.3026 15.5549 15.4478 15.2644 15.7381C14.9741 16.0285 14.829 16.3768 14.829 16.7829C14.829 17.189 14.9741 17.5373 15.2644 17.8277C15.5549 18.118 15.9031 18.2632 16.3092 18.2632Z" fill="#5D5E5E"/>
                  </svg>
                </li>
              </ul>
            </div>
            <p>Story by MyVerkoper</p>
            <p class="text_primary fw_500">05-07-2024</p>
            <p>In today's fast-paced educational landscape, the role of efficient procurement processes cannot be underestimated. Educational institutions, be it schools, colleges, or universities, face numerous challenges in sourcing the right products and services to support their academic endeavors. Traditional school procurement processes can be time-consuming, resource-intensive, and often lack the convenience required to keep up with the demands of modern education jjdhh skdjdwodj.</p>
          </div>
        </section> -->
      </div>
    </div>
  </div>
</section>
<!-- } -->
<!-- @else { -->
  <!-- <section class="text-center py-5">
    <img style="width: 200px;" src="/assets/images/no_blogs.png">
    <p>No Stories Found</p>
  </section> -->
<!-- } -->
}
<app-footer></app-footer>

