    <section class="dm_link">
        <div class="container">
            <div [formGroup]="rfqForm" class="row justify-content-center">
                <div class="col-sm-10">
                <div class="logo">
                    <img src="/assets/images/buyer-logo.png"/>
                </div>
                @if (!loader) {
                    <!-- @if (!campaignNotFound) { -->
                    <h1 class="mainTitle text_primary">Get Instant Quotes From Verified Manufacturers</h1>
                    <h2 class="subTitle">Get Multiple Quotes with One Click!</h2>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="form_label"><span class="text_red">*</span>Enter Name</label>
                                <input formControlName="name" appRejectSpecialCharacters maxlength="30" type="text" class="form-control"/>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group" *ngIf="!showOtp">
                                @if (!verified) {
                                    <label class="form_label"><span class="text_red">*</span>Mobile Number</label>
                                    <input formControlName="number" type="text" maxlength="10" appAllowNumbersOnly class="form-control"/>
                                    @if (numbermob.valid) {
                                        <div class="text-end pt-2">
                                            <button (click)="sendOTP()" class="text_btn fw_500">Verify</button>
                                        </div>
                                    }
                                } 
                                @else {
                                    <label class="form_label"><span class="text_red">*</span>Mobile Number</label>
                                    <input readonly [value]="signupMobileNum" class="form-control"/>
                                    <div class="text-end pt-2">
                                        <button style="color: green" class="text_btn fw_500">Verified</button>
                                    </div>
                                }
                            </div>

                            <div class="form-group" *ngIf="showOtp">
                                <label class="form_label"><span class="text_red">*</span>Enter OTP</label>
                                <div class="otp_group">
                                    <div>
                                        <div class="otp_container">
                                            <input appAllowNumbersOnly type="text" maxlength="1" class="form-control" [(ngModel)]="otp[0]" [ngModelOptions]="{standalone: true}" #otp1 (input)="onInput($event, otp2)"/>
                                            <input appAllowNumbersOnly type="text" maxlength="1" class="form-control" [(ngModel)]="otp[1]" [ngModelOptions]="{standalone: true}" #otp2 (input)="onInput($event, otp3)" (keydown.backspace)="onBackspace($event, otp1)" />
                                            <input appAllowNumbersOnly type="text" maxlength="1" class="form-control" [(ngModel)]="otp[2]" [ngModelOptions]="{standalone: true}" #otp3 (input)="onInput($event, otp4)" (keydown.backspace)="onBackspace($event, otp2)" />
                                            <input appAllowNumbersOnly type="text" maxlength="1" class="form-control" [(ngModel)]="otp[3]" [ngModelOptions]="{standalone: true}" #otp4 (input)="onInput($event, null)" (keydown.backspace)="onBackspace($event, otp3)" />
                                        </div>
                                        <div class="otp_details">
                                            @if(!isResending) {
                                                <div>00: {{countDown$ | async}} </div>
                                            } @else {
                                                <button (click)="resendOtp()" class="text_btn">Resend</button>
                                            }
                                        </div>
                                    </div>
                                    <button class="text_btn fw_500" (click)="notYou()">Not You?</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <section formArrayName="rfqs">
                    @for (rfq of rfqs.controls; track $index; let isLast = $last; let isFirst = $first) {
                    <div class="row" [formGroupName]="$index">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="form_label"><span class="text_red">*</span>Product Name</label>
                                <div class="form_field">
                                    <input [readOnly]="isFirst && isDisabled" appRejectSpecialCharacters formControlName="product_name" type="text" class="form-control" maxlength="30"/>
                                    @if (isFirst && isDisabled) {
                                    <span class="edit_icon" (click)="editField()">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                            <path d="M4.16665 15.8333H5.08165L13.9969 6.91834L13.0816 6.00313L4.16665 14.9183V15.8333ZM4.00644 16.6667C3.81574 16.6667 3.65588 16.6022 3.52685 16.4731C3.39783 16.3441 3.33331 16.1842 3.33331 15.9935V15.1267C3.33331 14.9424 3.36963 14.7667 3.44227 14.5998C3.51491 14.4328 3.61158 14.289 3.73227 14.1683L14.3173 3.57209C14.4027 3.49598 14.4969 3.43716 14.6 3.39563C14.7032 3.3541 14.8107 3.33334 14.9227 3.33334C15.0346 3.33334 15.1431 3.35097 15.2481 3.38625C15.353 3.42153 15.4498 3.48507 15.5385 3.57688L16.4279 4.47125C16.5197 4.55986 16.5825 4.65709 16.6162 4.76292C16.6498 4.86889 16.6666 4.97479 16.6666 5.08063C16.6666 5.19354 16.6476 5.3016 16.6096 5.40479C16.5715 5.50785 16.511 5.60209 16.4279 5.6875L5.83165 16.2677C5.71095 16.3884 5.56713 16.4851 5.40019 16.5577C5.23324 16.6303 5.05762 16.6667 4.87331 16.6667H4.00644ZM13.5312 6.46875L13.0816 6.00313L13.9969 6.91834L13.5312 6.46875Z" fill="#666666"/>
                                        </svg>
                                    </span>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label class="form_label"><span class="text_red">*</span>Sourcing Quantity</label>
                                <div class="form_qtyfield">
                                    <input formControlName="quantity" type="text" maxlength="5" appAllowNumbersOnly class="form-control"/>
                                    <select formControlName="units" class="form-select">
                                        @for (u of units; track u.id) {
                                        <option [value]="u.id">{{ u.val }}</option>
                                        }
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="form-group">
                                <div class="desc_label">
                                    <div>
                                        <label class="form_label"><span class="text_red">*</span>Description</label>
                                        <p>Help Us to Understand Your Requirements</p>
                                    </div>
                                    @if(aiLoader && aiIndex == $index) {
                                        <span class="loading-ai"><img src="/assets/images/loading.gif" alt="" srcset=""></span>
                                    } @else {
                                        <button class="get-ai underline_btn" (click)="getChatGPTDescription($index)">{{txtArray[$index]}} from AI</button> 
                                    }
                                    <!-- <button (click)="getChatGPTDescription($index)" class="underline_btn">{{generateTxt}} with AI</button> -->
                                </div>
                                <textarea formControlName="description" class="form-control" rows="5" placeholder="I am looking for"></textarea>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <div class="append_feature">
                                <div class="d-flex align-items-center">
                                    @if (rfqs.controls.length < 5 && isLast) {
                                    <p class="m-0">Want RFQ for Other Products? Click “Add”</p>
                                    <button (click)="addRfqForm()" type="button" class="sec_btn ms-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <path d="M11.5 12.5H6.5C6.35833 12.5 6.23958 12.452 6.14375 12.356C6.04792 12.26 6 12.1411 6 11.9992C6 11.8574 6.04792 11.7388 6.14375 11.6433C6.23958 11.5478 6.35833 11.5 6.5 11.5H11.5V6.5C11.5 6.35833 11.548 6.23958 11.644 6.14375C11.74 6.04792 11.8589 6 12.0008 6C12.1426 6 12.2613 6.04792 12.3568 6.14375C12.4523 6.23958 12.5 6.35833 12.5 6.5V11.5H17.5C17.6417 11.5 17.7604 11.548 17.8562 11.644C17.9521 11.74 18 11.8589 18 12.0008C18 12.1426 17.9521 12.2613 17.8562 12.3568C17.7604 12.4523 17.6417 12.5 17.5 12.5H12.5V17.5C12.5 17.6417 12.452 17.7604 12.356 17.8562C12.26 17.9521 12.1411 18 11.9992 18C11.8574 18 11.7388 17.9521 11.6433 17.8562C11.5478 17.7604 11.5 17.6417 11.5 17.5V12.5Z" fill="#017DB9"/>
                                        </svg>
                                        <span>Add</span>
                                    </button>
                                    }
                                </div>
                                @if (!isFirst) {
                                <button (click)="removeRfq($index)" type="button" class="grey_stroked_btn" *ngIf="rfqs.controls.length > 1">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <path d="M6.5 12.5C6.35833 12.5 6.23958 12.452 6.14375 12.356C6.04792 12.26 6 12.1411 6 11.9993C6 11.8574 6.04792 11.7388 6.14375 11.6433C6.23958 11.5478 6.35833 11.5 6.5 11.5H17.5C17.6417 11.5 17.7604 11.548 17.8562 11.644C17.9521 11.74 18 11.8589 18 12.0008C18 12.1426 17.9521 12.2612 17.8562 12.3567C17.7604 12.4522 17.6417 12.5 17.5 12.5H6.5Z" fill="black"/>
                                    </svg>
                                    <span>Remove</span>
                                </button>
                                }
                            </div>
                        </div>
                    </div>
                    }
                    </section>
                    <div class="row">
                        <div class="col-sm-12 mt-4">
                            <div class="checkbox_field">
                                <input formControlName="rfqTerms" type="checkbox" id="rules"/>
                                <label for="rules">I have read, understood and agreed to abide by the <a href="#" class="underline_btn">Buying request posting Rules</a></label>
                            </div>
                            <div class="checkbox_field">
                                <input formControlName="signupTerms" type="checkbox" id="terms"/>
                                <label for="terms">By continuing, I agree to sign up for MyVerkoper and accept the <a href="#" class="underline_btn">Terms and conditions</a> and Receive Notifications</label>
                            </div>
                        </div>

                        <div class="col-sm-12 text-center py-5">
                            <button (click)="submit()" type="submit" [disabled]="rfqForm.invalid" class="primary_btn">Submit</button>
                            <!-- <button (click)="reset()" type="button" [disabled]="rfqForm.invalid" class="primary_btn">Reset</button> -->
                        </div>
                    </div>

                    <section *ngIf="false" class="rfq_submission">
                        <div class="rfq_success">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                                <path d="M13.2259 20.3172L21.6297 11.9134L20.3125 10.5962L13.2259 17.6828L9.66344 14.1203L8.34625 15.4375L13.2259 20.3172ZM15.0022 26.875C13.3597 26.875 11.8158 26.5633 10.3706 25.94C8.92542 25.3167 7.66833 24.4707 6.59937 23.4022C5.53042 22.3336 4.68406 21.0771 4.06031 19.6325C3.43677 18.1879 3.125 16.6445 3.125 15.0022C3.125 13.3597 3.43667 11.8158 4.06 10.3706C4.68333 8.92542 5.52927 7.66833 6.59781 6.59937C7.66635 5.53042 8.92292 4.68406 10.3675 4.06031C11.8121 3.43677 13.3555 3.125 14.9978 3.125C16.6403 3.125 18.1842 3.43667 19.6294 4.06C21.0746 4.68333 22.3317 5.52927 23.4006 6.59781C24.4696 7.66635 25.3159 8.92292 25.9397 10.3675C26.5632 11.8121 26.875 13.3555 26.875 14.9978C26.875 16.6403 26.5633 18.1842 25.94 19.6294C25.3167 21.0746 24.4707 22.3317 23.4022 23.4006C22.3336 24.4696 21.0771 25.3159 19.6325 25.9397C18.1879 26.5632 16.6445 26.875 15.0022 26.875ZM15 25C17.7917 25 20.1562 24.0312 22.0937 22.0937C24.0312 20.1562 25 17.7917 25 15C25 12.2083 24.0312 9.84375 22.0937 7.90625C20.1562 5.96875 17.7917 5 15 5C12.2083 5 9.84375 5.96875 7.90625 7.90625C5.96875 9.84375 5 12.2083 5 15C5 17.7917 5.96875 20.1562 7.90625 22.0937C9.84375 24.0312 12.2083 25 15 25Z" fill="#3FA950"/>
                            </svg>
                            <div>
                                <h1>Thank you! <br>Your RFQ has been submitted successfully.</h1>
                                <p>To manage your RFQ, <a href="#" class="underline_btn">Click here</a> to go to the Manage RFQ page</p>
                            </div>
                        </div>
                        
                        <!-- Request Quotation -->
                        <div class="req_quotation">
                            <div class="row align-items-center pointer">
                            <div class="col-sm-9">
                                <div class="d-flex align-items-center">
                                <div class="ps-3">
                                    <h1>Your registration is complete but pending final steps</h1>
                                    <p>To finalize your registration, click  continue to the signup Button</p>
                                </div>
                                <div class="d-block d-md-none">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="15" viewBox="0 0 14 15" fill="none">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.93709 1.66615L10.0072 6.74535C10.0528 6.78896 10.089 6.84146 10.1136 6.89961C10.1382 6.95776 10.1505 7.02033 10.15 7.08345C10.1502 7.21372 10.0988 7.33878 10.0072 7.43135C8.17319 9.22055 6.40569 10.9475 4.70469 12.6121C4.61719 12.694 4.26719 12.8977 3.99699 12.5953C3.72679 12.2922 3.89059 12.0283 3.99699 11.9191L8.94459 7.08345L4.22169 2.35215C4.04949 2.11485 4.06349 1.89575 4.26369 1.69485C4.46389 1.49395 4.68859 1.48415 4.93709 1.66615Z" fill="black" fill-opacity="0.6"/>
                                    </svg>
                                </div>
                                </div>
                            </div>
                            <div class="col-sm-3 text-center text-md-end mt-4 mt-md-0 d-none d-md-block">
                                <button class="rfq_btn">Continue to Signup</button>
                            </div>
                            </div>
                        </div>
                        <!-- Request Quotation End -->
                        
        
                        <div class="download_app">
                            <p><b>Download our app to streamline inquiries and RFQs, and get real-time  updates on your mobile device</b></p>
                            <a class="storebtn me-2"
                                href="https://play.google.com/store/apps/details?id=com.buyer.myverkoper&hl=en_IN&gl=US"
                                target="_blank">
                                <img class="play_store_img" src="/assets/images/play-store-01.png">
                            </a>
                            <a class="storebtn" href="https://apps.apple.com/in/app/myverkoper-b2b-edu-marketplace/id6455027193"
                                target="_blank">
                                <img class="app_img" src="/assets/images/appstore.png">
                            </a>
                        </div>
                    </section>
                    <!-- }
                    @else {
                        <section class="text-center py-5">
                            <img style="width: 200px;" src="/assets/images/no_blogs.png">
                            <p>Link Not Found</p>
                            <button class="primary_btn" (click)="openAlertDialog()">Click Here</button>
                        </section>
                    } -->
                }
            </div>
        </div>
    </div>
</section>

<ng-template #showAlertDialog>
        @if(ifUserSignedIn){
        <section>
            <div class="modal_header">
              <h1 class="title">Alert! <span>(Active Session Detected)</span></h1>
              <button class="close" (click)="closeAlertDialog()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 30 30" fill="none">
                      <path d="M22.8748 7.13754C22.7591 7.02166 22.6218 6.92972 22.4706 6.86699C22.3194 6.80427 22.1572 6.77198 21.9935 6.77198C21.8298 6.77198 21.6677 6.80427 21.5165 6.86699C21.3653 6.92972 21.2279 7.02166 21.1123 7.13754L14.9998 13.2375L8.88729 7.12504C8.77156 7.00931 8.63418 6.91751 8.48297 6.85488C8.33177 6.79225 8.1697 6.76001 8.00604 6.76001C7.84238 6.76001 7.68032 6.79225 7.52911 6.85488C7.37791 6.91751 7.24052 7.00931 7.12479 7.12504C7.00906 7.24076 6.91726 7.37815 6.85463 7.52936C6.792 7.68056 6.75977 7.84262 6.75977 8.00629C6.75977 8.16995 6.792 8.33201 6.85463 8.48321C6.91726 8.63442 7.00906 8.77181 7.12479 8.88754L13.2373 15L7.12479 21.1125C7.00906 21.2283 6.91726 21.3656 6.85463 21.5169C6.792 21.6681 6.75977 21.8301 6.75977 21.9938C6.75977 22.1574 6.792 22.3195 6.85463 22.4707C6.91726 22.6219 7.00906 22.7593 7.12479 22.875C7.24052 22.9908 7.37791 23.0826 7.52911 23.1452C7.68032 23.2078 7.84238 23.2401 8.00604 23.2401C8.1697 23.2401 8.33177 23.2078 8.48297 23.1452C8.63418 23.0826 8.77156 22.9908 8.88729 22.875L14.9998 16.7625L21.1123 22.875C21.228 22.9908 21.3654 23.0826 21.5166 23.1452C21.6678 23.2078 21.8299 23.2401 21.9935 23.2401C22.1572 23.2401 22.3193 23.2078 22.4705 23.1452C22.6217 23.0826 22.7591 22.9908 22.8748 22.875C22.9905 22.7593 23.0823 22.6219 23.1449 22.4707C23.2076 22.3195 23.2398 22.1574 23.2398 21.9938C23.2398 21.8301 23.2076 21.6681 23.1449 21.5169C23.0823 21.3656 22.9905 21.2283 22.8748 21.1125L16.7623 15L22.8748 8.88754C23.3498 8.41254 23.3498 7.61254 22.8748 7.13754Z" fill="#777777"/>
                  </svg>
              </button>
            </div>
      
            <div class="modal_body">  
              <p class="text_red">Currently, an account is logged in with an existing session</p>
              <img class="w-50" src="/assets/images/alert_campaign.png"/>
              <h2>Would you like to continue with the new login?</h2>
              <button (click)="newLogin()" class="primary_btn">Yes</button>
              <button class="grey_stroked_btn ms-3" (click)="closeAlertDialog()">No</button>
            </div>
          </section>
        }
    </ng-template>